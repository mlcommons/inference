python3 python/main.py --profile retinanet-onnxruntime --model "/home/mlcuser/MLC/repos/local/cache/download-file_get-ml-model-mo_833148bf/resnext50_32x4d_fpn.onnx" --dataset-path /home/mlcuser/MLC/repos/local/cache/get-preprocessed-dataset-openimages_aeaec90d --output "/home/mlcuser/MLC/repos/local/cache/get-mlperf-inference-results-dir_426d7d65/valid_results/a18cbc095633-reference-gpu-onnxruntime-v1.22.0-cu124/retinanet/server/accuracy" --scenario Server --max-batchsize 1 --threads 1 --user_conf /home/mlcuser/MLC/repos/mlcommons@mlperf-automations/script/generate-mlperf-inference-user-conf/tmp/e78a2f2d21a14bd0838440014a860303.conf --accuracy --use_preprocessed_dataset --cache_dir /home/mlcuser/MLC/repos/local/cache/get-preprocessed-dataset-openimages_aeaec90d --dataset-list /home/mlcuser/MLC/repos/local/cache/get-preprocessed-dataset-openimages_aeaec90d/annotations/openimages-mlperf.json
INFO:main:Namespace(dataset='openimages-800-retinanet-onnx', dataset_path='/home/mlcuser/MLC/repos/local/cache/get-preprocessed-dataset-openimages_aeaec90d', dataset_list='/home/mlcuser/MLC/repos/local/cache/get-preprocessed-dataset-openimages_aeaec90d/annotations/openimages-mlperf.json', data_format=None, profile='retinanet-onnxruntime', scenario='Server', max_batchsize=1, model='/home/mlcuser/MLC/repos/local/cache/download-file_get-ml-model-mo_833148bf/resnext50_32x4d_fpn.onnx', output='/home/mlcuser/MLC/repos/local/cache/get-mlperf-inference-results-dir_426d7d65/valid_results/a18cbc095633-reference-gpu-onnxruntime-v1.22.0-cu124/retinanet/server/accuracy', inputs=['images'], outputs=['boxes', 'labels', 'scores'], backend='onnxruntime', device=None, model_name='retinanet', threads=1, qps=None, cache=0, cache_dir='/home/mlcuser/MLC/repos/local/cache/get-preprocessed-dataset-openimages_aeaec90d', preprocessed_dir=None, use_preprocessed_dataset=True, accuracy=True, find_peak_performance=False, debug=False, user_conf='/home/mlcuser/MLC/repos/mlcommons@mlperf-automations/script/generate-mlperf-inference-user-conf/tmp/e78a2f2d21a14bd0838440014a860303.conf', audit_conf='audit.config', time=None, count=None, performance_sample_count=None, max_latency=None, samples_per_query=8)
INFO:coco:loaded 24781 images, cache=0, already_preprocessed=True, took=1.4sec
[0;93m2025-07-12 16:57:24.784710276 [W:onnxruntime:, session_state.cc:1280 VerifyEachNodeIsAssignedToAnEp] Some nodes were not assigned to the preferred execution providers which may or may not have an negative impact on performance. e.g. ORT explicitly assigns shape related ops to CPU to improve perf.[m
[0;93m2025-07-12 16:57:24.784767534 [W:onnxruntime:, session_state.cc:1282 VerifyEachNodeIsAssignedToAnEp] Rerunning with verbose output on a non-minimal build will show node assignments.[m
INFO:main:starting TestScenario.Server
loading annotations into memory...
Done (t=0.94s)
creating index...
index created!
Loading and preparing results...
Converting ndarray to lists...
(2936512, 7)
0/2936512
1000000/2936512
2000000/2936512
DONE (t=19.43s)
creating index...
index created!
Running per image evaluation...
Evaluate annotation type *bbox*
DONE (t=299.31s).
Accumulating evaluation results...
DONE (t=77.12s).
 Average Precision  (AP) @[ IoU=0.50:0.95 | area=   all | maxDets=100 ] = 0.376
 Average Precision  (AP) @[ IoU=0.50      | area=   all | maxDets=100 ] = 0.525
 Average Precision  (AP) @[ IoU=0.75      | area=   all | maxDets=100 ] = 0.406
 Average Precision  (AP) @[ IoU=0.50:0.95 | area= small | maxDets=100 ] = 0.025
 Average Precision  (AP) @[ IoU=0.50:0.95 | area=medium | maxDets=100 ] = 0.127
 Average Precision  (AP) @[ IoU=0.50:0.95 | area= large | maxDets=100 ] = 0.415
 Average Recall     (AR) @[ IoU=0.50:0.95 | area=   all | maxDets=  1 ] = 0.420
 Average Recall     (AR) @[ IoU=0.50:0.95 | area=   all | maxDets= 10 ] = 0.598
 Average Recall     (AR) @[ IoU=0.50:0.95 | area=   all | maxDets=100 ] = 0.627
 Average Recall     (AR) @[ IoU=0.50:0.95 | area= small | maxDets=100 ] = 0.082
 Average Recall     (AR) @[ IoU=0.50:0.95 | area=medium | maxDets=100 ] = 0.341
 Average Recall     (AR) @[ IoU=0.50:0.95 | area= large | maxDets=100 ] = 0.677
TestScenario.Server qps=58.31, mean=0.0400, time=425.022, acc=41.035%, mAP=37.575%, queries=24781, tiles=50.0:0.0381,80.0:0.0402,90.0:0.0415,95.0:0.0473,99.0:0.0749,99.9:0.0810
